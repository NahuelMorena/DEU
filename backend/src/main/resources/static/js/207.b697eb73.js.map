{"version":3,"file":"js/207.b697eb73.js","mappings":"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","sources":["webpack://frontend/./src/views/UsersView/index.vue","webpack://frontend/./src/views/UsersView/addUser.vue","webpack://frontend/src/views/UsersView/addUser.vue","webpack://frontend/./src/views/UsersView/addUser.vue?eff9","webpack://frontend/./src/views/UsersView/addUser.vue?a774","webpack://frontend/src/views/UsersView/index.vue","webpack://frontend/./src/views/UsersView/index.vue?1a80","webpack://frontend/./src/views/UsersView/index.vue?6277"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('HeaderComponent',{attrs:{\"title\":\"Usuarios\"}}),_c('v-container',[(_vm.datatable.items)?_c('v-card',[_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Buscador\",\"hide-details\":\"\"},scopedSlots:_vm._u([{key:\"append-outer\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"rgba(34, 56, 67, 0.85)\",\"dark\":\"\"},on:{\"click\":function($event){_vm.dialogs.addUser = true}}},[_vm._v(\" Agregar Usuario \")])]},proxy:true}],null,false,1609366816),model:{value:(_vm.datatable.search),callback:function ($$v) {_vm.$set(_vm.datatable, \"search\", $$v)},expression:\"datatable.search\"}}),_c('v-data-table',{staticClass:\"elevation-0\",attrs:{\"headers\":_vm.datatable.headers,\"items\":_vm.datatable.items,\"search\":_vm.datatable.search},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('tr',[_c('td',[_vm._v(_vm._s(item.username))]),_c('td',_vm._l((item.roles),function(role,i){return _c('span',{key:i,staticClass:\"mr-2\"},[_vm._v(_vm._s(role.name))])}),0),_c('td',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteUser(item)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)])]}}],null,false,1696382493)})],1)],1):_vm._e(),_c('AddUser',{on:{\"saved\":(newUser) => _vm.newUserSaved(newUser)},model:{value:(_vm.dialogs.addUser),callback:function ($$v) {_vm.$set(_vm.dialogs, \"addUser\", $$v)},expression:\"dialogs.addUser\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-overlay',{attrs:{\"value\":_vm.localShow}},[_c('v-dialog',{attrs:{\"hide-overlay\":\"\",\"persistent\":\"\"},model:{value:(_vm.localShow),callback:function ($$v) {_vm.localShow=$$v},expression:\"localShow\"}},[_c('v-card',{staticStyle:{\"width\":\"600px\"}},[_c('v-card-title',{staticClass:\"d-flex justify-space-between align-center mb-4\"},[_c('div',[_vm._v(\"Agregar Usuario\")]),_c('div',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.closeAll()}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-text-field',{attrs:{\"label\":\"Nombre del usuario\",\"rules\":_vm.rules.username},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('v-text-field',{attrs:{\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"rules\":_vm.rules.password,\"type\":_vm.showPassword ? 'text' : 'password',\"label\":\"Contraseña del usuario\",\"counter\":\"\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.allRoles,\"label\":\"Roles\",\"item-text\":\"name\",\"return-object\":\"\",\"filled\":\"\",\"rounded\":\"\",\"chips\":\"\",\"multiple\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({attrs:{\"input-value\":data.selected,\"close\":\"\"},on:{\"click\":data.select,\"click:close\":function($event){return _vm.remove(data.item)}}},'v-chip',data.attrs,false),[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"innerHTML\":_vm._s(data.item.name)}})],1)]}}]),model:{value:(_vm.form.roles),callback:function ($$v) {_vm.$set(_vm.form, \"roles\", $$v)},expression:\"form.roles\"}})],1)],1),_c('v-card-actions',{staticClass:\"d-flex justify-end\"},[_c('v-btn',{attrs:{\"color\":\"rgba(34, 56, 67, 0.85)\",\"dark\":\"\"},on:{\"click\":function($event){if (_vm.$refs.form.validate()) {\n                            _vm.save();\n                        }}}},[_vm._v(\"Guardar\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-overlay :value=\"localShow\">\r\n        <v-dialog v-model=\"localShow\" hide-overlay persistent>\r\n            <v-card style=\"width: 600px\">\r\n                <v-card-title\r\n                    class=\"d-flex justify-space-between align-center mb-4\"\r\n                >\r\n                    <div>Agregar Usuario</div>\r\n                    <div>\r\n                        <v-btn icon @click=\"closeAll()\">\r\n                            <v-icon>mdi-close</v-icon>\r\n                        </v-btn>\r\n                    </div>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-form ref=\"form\">\r\n                        <v-text-field\r\n                            label=\"Nombre del usuario\"\r\n                            v-model=\"form.username\"\r\n                            :rules=\"rules.username\"\r\n                        >\r\n                        </v-text-field>\r\n                        <v-text-field\r\n                            v-model=\"form.password\"\r\n                            :append-icon=\"\r\n                                showPassword ? 'mdi-eye' : 'mdi-eye-off'\r\n                            \"\r\n                            :rules=\"rules.password\"\r\n                            :type=\"showPassword ? 'text' : 'password'\"\r\n                            label=\"Contraseña del usuario\"\r\n                            counter\r\n                            @click:append=\"showPassword = !showPassword\"\r\n                        ></v-text-field>\r\n                        <v-autocomplete\r\n                            v-model=\"form.roles\"\r\n                            :items=\"allRoles\"\r\n                            label=\"Roles\"\r\n                            item-text=\"name\"\r\n                            return-object\r\n                            filled\r\n                            rounded\r\n                            chips\r\n                            multiple\r\n                        >\r\n                            <template v-slot:selection=\"data\">\r\n                                <v-chip\r\n                                    v-bind=\"data.attrs\"\r\n                                    :input-value=\"data.selected\"\r\n                                    close\r\n                                    @click=\"data.select\"\r\n                                    @click:close=\"remove(data.item)\"\r\n                                >\r\n                                    {{ data.item.name }}\r\n                                </v-chip>\r\n                            </template>\r\n                            <template v-slot:item=\"data\">\r\n                                <v-list-item-content>\r\n                                    <v-list-item-title\r\n                                        v-html=\"data.item.name\"\r\n                                    ></v-list-item-title>\r\n                                </v-list-item-content>\r\n                            </template>\r\n                        </v-autocomplete>\r\n                    </v-form>\r\n                </v-card-text>\r\n                <v-card-actions class=\"d-flex justify-end\">\r\n                    <v-btn\r\n                        color=\"rgba(34, 56, 67, 0.85)\"\r\n                        dark\r\n                        @click=\"\r\n                            if ($refs.form.validate()) {\r\n                                save();\r\n                            }\r\n                        \"\r\n                        >Guardar</v-btn\r\n                    >\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n    </v-overlay>\r\n</template>\r\n\r\n<script>\r\nimport { localAxios } from \"@/axios\";\r\n\r\nexport default {\r\n    props: {\r\n        value: { type: Boolean },\r\n    },\r\n    data: () => ({\r\n        localShow: false,\r\n        showPassword: false,\r\n        allRoles: null,\r\n        form: {\r\n            username: \"\",\r\n            password: \"\",\r\n            roles: [],\r\n        },\r\n        rules: {\r\n            username: [(v) => !!v || \"Se requiere un nombre de usuario\"],\r\n            password: [(v) => !!v || \"Se requiere una contraseña\"],\r\n        },\r\n    }),\r\n    watch: {\r\n        value: function (val) {\r\n            this.localShow = val;\r\n        },\r\n    },\r\n    async mounted() {\r\n        let response = await localAxios.get(\"/admin/roles\");\r\n        this.allRoles = response.data;\r\n    },\r\n    methods: {\r\n        closeAll() {\r\n            this.$refs.form.reset();\r\n            this.$emit(\"input\", false);\r\n        },\r\n        remove(role) {\r\n            const index = this.form.roles.indexOf(role);\r\n            if (index >= 0) this.form.roles.splice(index, 1);\r\n        },\r\n        async save() {\r\n            let response = await localAxios.post(\"/admin/users\", this.form);\r\n            let newUser = response.data;\r\n            this.$emit(\"saved\", newUser);\r\n            this.closeAll();\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./addUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./addUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addUser.vue?vue&type=template&id=7a8c91b8&\"\nimport script from \"./addUser.vue?vue&type=script&lang=js&\"\nexport * from \"./addUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <HeaderComponent title=\"Usuarios\" />\r\n        <v-container>\r\n            <v-card v-if=\"datatable.items\">\r\n                <v-card-text>\r\n                    <v-text-field\r\n                        v-model=\"datatable.search\"\r\n                        label=\"Buscador\"\r\n                        hide-details\r\n                    >\r\n                        <template v-slot:append-outer>\r\n                            <v-btn\r\n                                color=\"rgba(34, 56, 67, 0.85)\"\r\n                                dark\r\n                                @click=\"dialogs.addUser = true\"\r\n                            >\r\n                                Agregar Usuario\r\n                            </v-btn>\r\n                        </template>\r\n                    </v-text-field>\r\n                    <v-data-table\r\n                        :headers=\"datatable.headers\"\r\n                        :items=\"datatable.items\"\r\n                        :search=\"datatable.search\"\r\n                        class=\"elevation-0\"\r\n                    >\r\n                        <template v-slot:item=\"{ item }\">\r\n                            <tr>\r\n                                <td>{{ item.username }}</td>\r\n                                <td>\r\n                                    <span\r\n                                        v-for=\"(role, i) in item.roles\"\r\n                                        :key=\"i\"\r\n                                        class=\"mr-2\"\r\n                                        >{{ role.name }}</span\r\n                                    >\r\n                                </td>\r\n                                <td>\r\n                                    <v-btn icon @click=\"deleteUser(item)\">\r\n                                        <v-icon>mdi-delete</v-icon>\r\n                                    </v-btn>\r\n                                </td>\r\n                            </tr>\r\n                        </template>\r\n                    </v-data-table>\r\n                </v-card-text>\r\n            </v-card>\r\n\r\n            <!-- Dialogs -->\r\n            <AddUser\r\n                v-model=\"dialogs.addUser\"\r\n                @saved=\"(newUser) => newUserSaved(newUser)\"\r\n            />\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { localAxios } from \"@/axios\";\r\nimport HeaderComponent from \"@/components/HeaderComponent.vue\";\r\nimport AddUser from \"./addUser.vue\";\r\nimport { SnackbarStore } from \"@/store/snackbar\";\r\n\r\nexport default {\r\n    components: {\r\n        HeaderComponent,\r\n        AddUser,\r\n    },\r\n    data: () => ({\r\n        snackbarStore: SnackbarStore(),\r\n        datatable: {\r\n            items: null,\r\n            headers: [\r\n                { text: \"Nombre\", value: \"name\", width: \"20%\" },\r\n                { text: \"Permisos\", value: \"\", width: \"60%\" },\r\n                { text: \"\", value: \"\", width: \"20%\" },\r\n            ],\r\n            search: \"\",\r\n        },\r\n        dialogs: {\r\n            addUser: false,\r\n        },\r\n    }),\r\n    async mounted() {\r\n        let response = await localAxios.get(\"/admin/users\");\r\n        this.datatable.items = response.data;\r\n    },\r\n    methods: {\r\n        newUserSaved(newUser) {\r\n            this.datatable.items.push(newUser);\r\n            this.snackbarStore.open(\r\n                \"Se creó el nuevo usuario: \" + newUser.username + \".\"\r\n            );\r\n        },\r\n        async deleteUser(item) {\r\n            let response = await localAxios.delete(\"/admin/users\", {\r\n                data: item,\r\n            });\r\n            if (response.status == 200) {\r\n                const index = this.datatable.items.indexOf(item);\r\n                if (index >= 0) this.datatable.items.splice(index, 1);\r\n                this.snackbarStore.open(\r\n                    \"Se borró el usuario \" + item.username + \".\"\r\n                );\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6e8bf23a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","scopedSlots","key","_vm","datatable","callback","expression","staticClass","items","item","on","deleteUser","newUser","newUserSaved","dialogs","addUser","$set","staticRenderFns","localShow","staticStyle","_c","ref","model","value","rules","showPassword","_u","fn","data","domProps","form","$refs","save","render","props","type","allRoles","username","password","roles","watch","methods","closeAll","remove","component","components","HeaderComponent","AddUser","snackbarStore","headers","text","width","search"],"sourceRoot":""}